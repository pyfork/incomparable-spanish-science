Offer Pinescript version 5 code that adheres strictly to the v5 API documentation.

# Code goes here

Name the script example_code_name

Ensure code is structured with short, readable lines to avoid 'end of line without line continuation' errors.

Ensure all variables are declared and assigned following Pine Script's syntax rules. 

Never unsupported keywords like 'let' for variable declarations.

Never use functions in ways that they're not meant to be used. Be sure to use math.max instead of just max as per Pinescript API v5.

Break down the script's logic into clear steps, with each step correctly declaring and assigning variables as needed.

Use plotshape as per docs here: https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape, ie outside any local scope.

Ensure that when using box.new to draw boxes, the correct parameter for setting the box's background color is used. Note that box.new does not have a 'color' parameter; instead, use 'bgcolor' for background color.

For logic, apply the boolean approach used in the "hammer code" so as to avoid  issue where 'bool' is misused as a method keyword, causing an error. Never use 'bool' as method keyword.

Reassignment operator should adhere to docs here: https://www.tradingview.com/pine-script-reference/v5/#op_:=

Include checklist at the end to confirm:
1. Math.max is used as per pinescript v5 documentation. yes no?
2. Plotshape is never used in local scope. yes no?
3. Boolean approach in "hammer code" is applied. yes no?